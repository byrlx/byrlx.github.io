<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2016-08-18 Thu 22:28 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="viewport" content="width=device-width, initial-scale=1" />
<title>Elisp 文本处理函数</title>
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Zhengchao Xu" />
<link rel="stylesheet" title="Standard" href="/style/worg.css" type="text/css" />
<link rel="alternate stylesheet" title="Zenburn" href="/style/worg-zenburn.css" type="text/css" />
<link rel="alternate stylesheet" title="Classic" href="/style/worg-classic.css" type="text/css" />
<link rel="SHORTCUT ICON" href="/org-mode-unicorn.ico" type="image/x-icon" />
<link rel="icon" href="/org-mode-unicorn.ico" type="image/ico" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="preamble" class="status">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-7691209-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  document.addEventListener('DOMContentLoaded',function() {
      document.getElementById("table-of-contents").onclick = function() {
          var elem = document.getElementById("text-table-of-contents");
          elem.style.display = elem.style.display == "block" ? "none" : "block";
      }
  });
</script>
</div>
<div id="content">
<h1 class="title">Elisp 文本处理函数</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline4">光标位置函数</a>
<ul>
<li><a href="#orgheadline1">(point)</a></li>
<li><a href="#orgheadline2">(region-beginning) (region-end)</a></li>
<li><a href="#orgheadline3">(line-beginning-position) (line-end-position)</a></li>
</ul>
</li>
<li><a href="#orgheadline10">光标移动函数</a>
<ul>
<li><a href="#orgheadline5">(goto-char)</a></li>
<li><a href="#orgheadline6">(forward-char) (backwar-char)</a></li>
<li><a href="#orgheadline7">(search-forward) (search-backward)</a></li>
<li><a href="#orgheadline8">(re-search-forward) (re-search-backward)</a></li>
<li><a href="#orgheadline9">(skip-chars-forward) (skip-chars-backward)</a></li>
</ul>
</li>
<li><a href="#orgheadline16">文本操作函数</a>
<ul>
<li><a href="#orgheadline11">(delete-char)</a></li>
<li><a href="#orgheadline12">(delete-region)</a></li>
<li><a href="#orgheadline13">(insert)</a></li>
<li><a href="#orgheadline14">(buffer-substring)*</a></li>
<li><a href="#orgheadline15">(capitalize-region)</a></li>
</ul>
</li>
<li><a href="#orgheadline21">缓冲区相关函数</a>
<ul>
<li><a href="#orgheadline17">(buffer-name)(buffer-file-name)</a></li>
<li><a href="#orgheadline18">(set-buffer)</a></li>
<li><a href="#orgheadline19">(save-buffer)</a></li>
<li><a href="#orgheadline20">(kill-buffer)</a></li>
</ul>
</li>
<li><a href="#orgheadline28">文件相关操作</a>
<ul>
<li><a href="#orgheadline22">(find-file)</a></li>
<li><a href="#orgheadline23">(write-file)</a></li>
<li><a href="#orgheadline24">(insert-file-contents)</a></li>
<li><a href="#orgheadline25">(append-to-file)</a></li>
<li><a href="#orgheadline26">(rename-file) (copy-file) (delete-file)</a></li>
<li><a href="#orgheadline27">(file-name-directory) (file-name-extension)</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
Emacs Lisp提供了一个文本的框架, 通过该框架可以实现对buffer内容的
各种处理: 移动光标, 插入文本, 删除文本, 保存等等. 
本文就简单介绍这些基础的函数.
</p>

<div id="outline-container-orgheadline4" class="outline-2">
<h2 id="orgheadline4">光标位置函数</h2>
<div class="outline-text-2" id="text-orgheadline4">
</div><div id="outline-container-orgheadline1" class="outline-3">
<h3 id="orgheadline1">(point)</h3>
<div class="outline-text-3" id="text-orgheadline1">
<p>
该函数返回一个整数, 表示当前光标的位置, buffer中的第一个char的位置
为1.  <b>每一行的换行也算一个字符</b>
</p>
</div>
</div>
<div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2">(region-beginning) (region-end)</h3>
<div class="outline-text-3" id="text-orgheadline2">
<p>
当前区块的开始和结束位置
</p>
</div>
</div>
<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3">(line-beginning-position) (line-end-position)</h3>
<div class="outline-text-3" id="text-orgheadline3">
<p>
当前行的开始和结束位置.
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline10" class="outline-2">
<h2 id="orgheadline10">光标移动函数</h2>
<div class="outline-text-2" id="text-orgheadline10">
</div><div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5">(goto-char)</h3>
<div class="outline-text-3" id="text-orgheadline5">
<p>
接受一个整数参数N, 移动光标到N. 如果N大于buffer的长度, 移动到buffer尾部.
</p>
</div>
</div>
<div id="outline-container-orgheadline6" class="outline-3">
<h3 id="orgheadline6">(forward-char) (backwar-char)</h3>
<div class="outline-text-3" id="text-orgheadline6">
<p>
接受参数N, 前移/后移光标N个字符.
</p>
</div>
</div>
<div id="outline-container-orgheadline7" class="outline-3">
<h3 id="orgheadline7">(search-forward) (search-backward)</h3>
<div class="outline-text-3" id="text-orgheadline7">
<p>
接受一个字符串参数, 向前/向后寻找参数, 并将光标置于结果尾部.
</p>
</div>
</div>
<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8">(re-search-forward) (re-search-backward)</h3>
<div class="outline-text-3" id="text-orgheadline8">
<p>
接受正则表达式, 依次查找符合条件的结果.
</p>
</div>
</div>
<div id="outline-container-orgheadline9" class="outline-3">
<h3 id="orgheadline9">(skip-chars-forward) (skip-chars-backward)</h3>
<div class="outline-text-3" id="text-orgheadline9">
<p>
向前/向后跳到第一个非参数字符串的字符, 返回跳的距离.
</p>
<pre class="example">
;;跳到第一个非小写字符的字符.光标定位到该字符后面.
(skip-chars-forward "a-z")
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline16" class="outline-2">
<h2 id="orgheadline16">文本操作函数</h2>
<div class="outline-text-2" id="text-orgheadline16">
</div><div id="outline-container-orgheadline11" class="outline-3">
<h3 id="orgheadline11">(delete-char)</h3>
<div class="outline-text-3" id="text-orgheadline11">
<p>
接受整数N, 删除当前光标开始的N个字符.
</p>
</div>
</div>
<div id="outline-container-orgheadline12" class="outline-3">
<h3 id="orgheadline12">(delete-region)</h3>
<div class="outline-text-3" id="text-orgheadline12">
<p>
接受两个整数S, N. 删除S位置到N位置之间的字符.
即删除字符[S N), 第N个字符并不删除.
</p>
</div>
</div>
<div id="outline-container-orgheadline13" class="outline-3">
<h3 id="orgheadline13">(insert)</h3>
<div class="outline-text-3" id="text-orgheadline13">
<p>
接受字符串参数, 插入到当前光标后面.
</p>
</div>
</div>
<div id="outline-container-orgheadline14" class="outline-3">
<h3 id="orgheadline14">(buffer-substring)*</h3>
<div class="outline-text-3" id="text-orgheadline14">
<p>
接受两个位置参数, 返回 <b>带属性</b> 的文本内容. 
如果不要属性, 使用 (buffer-substring-no-properties)
</p>
</div>
</div>
<div id="outline-container-orgheadline15" class="outline-3">
<h3 id="orgheadline15">(capitalize-region)</h3>
<div class="outline-text-3" id="text-orgheadline15">
<p>
接受开始和结束位置N, 将该区域的第一个字母大写, 其余字
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline21" class="outline-2">
<h2 id="orgheadline21">缓冲区相关函数</h2>
<div class="outline-text-2" id="text-orgheadline21">
</div><div id="outline-container-orgheadline17" class="outline-3">
<h3 id="orgheadline17">(buffer-name)(buffer-file-name)</h3>
<div class="outline-text-3" id="text-orgheadline17">
<p>
前者返回当前缓冲区, 返回类型为buffer类型.
后者返回字符串, 为当前buffer关联的文件名, 如无文件名则返回nil.
</p>
</div>
</div>

<div id="outline-container-orgheadline18" class="outline-3">
<h3 id="orgheadline18">(set-buffer)</h3>
<div class="outline-text-3" id="text-orgheadline18">
<p>
接受一个字符串参数, 将当前buffer设置为参数名代表的buffer.
</p>
</div>
</div>


<div id="outline-container-orgheadline19" class="outline-3">
<h3 id="orgheadline19">(save-buffer)</h3>
<div class="outline-text-3" id="text-orgheadline19">
<p>
保存当前buffer
</p>
</div>
</div>
<div id="outline-container-orgheadline20" class="outline-3">
<h3 id="orgheadline20">(kill-buffer)</h3>
<div class="outline-text-3" id="text-orgheadline20">
<p>
干掉参数所代表的buffer name.
干掉当前buffer使用(kill-this-buffer)函数.
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline28" class="outline-2">
<h2 id="orgheadline28">文件相关操作</h2>
<div class="outline-text-2" id="text-orgheadline28">
</div><div id="outline-container-orgheadline22" class="outline-3">
<h3 id="orgheadline22">(find-file)</h3>
<div class="outline-text-3" id="text-orgheadline22">
<p>
接受文件名参数, 会创建一个buffer并将文件加载进去.
</p>
</div>
</div>
<div id="outline-container-orgheadline23" class="outline-3">
<h3 id="orgheadline23">(write-file)</h3>
<div class="outline-text-3" id="text-orgheadline23">
<p>
接受文件名参数, 将当前buffer的内容写入文件.
</p>
</div>
</div>
<div id="outline-container-orgheadline24" class="outline-3">
<h3 id="orgheadline24">(insert-file-contents)</h3>
<div class="outline-text-3" id="text-orgheadline24">
<p>
接受文件名参数, 将文件内容插入到当前位置
</p>
</div>
</div>
<div id="outline-container-orgheadline25" class="outline-3">
<h3 id="orgheadline25">(append-to-file)</h3>
<div class="outline-text-3" id="text-orgheadline25">
<p>
接受三个参数:开始位置,结束位置,文件路径.
将当前buffer的开始位置到结束位置区域内容写入文件.
</p>
</div>
</div>
<div id="outline-container-orgheadline26" class="outline-3">
<h3 id="orgheadline26">(rename-file) (copy-file) (delete-file)</h3>
<div class="outline-text-3" id="text-orgheadline26">
<p>
函数功能函数名基本已解释清楚.
</p>
</div>
</div>
<div id="outline-container-orgheadline27" class="outline-3">
<h3 id="orgheadline27">(file-name-directory) (file-name-extension)</h3>
<div class="outline-text-3" id="text-orgheadline27">
<p>
功能如其名.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Zhengchao Xu</p>
<p class="date">Created: 2016-08-18 Thu 22:28</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
