---
layout: post
title: My Emacs
tag: [Emacs, TBD]
description: [Record the common tips and usefull plugings of Emacs] 
---

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Basic</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> eshell</h3>
<div class="outline-text-3" id="text-1-1">
<p>
eshell is a very cool shell. 
</p>
<ol class="org-ol">
<li>can write lisp in it, like <b>(/ 3 2)</b>
</li>
<li>customize the eshell prompt by <a href="http://liangzan.net/blog/blog/2012/12/12/customizing-your-emacs-eshell-prompt/">this</a> article
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> Short Keys:</h3>
<div class="outline-text-3" id="text-1-2">
<ol class="org-ol">
<li>show line num: M-x linum-mode.
</li>
<li>file
<ol class="org-ol">
<li>c-x c-r: read only text.
</li>
<li>c-x c-w: save as.
</li>
<li>c-x i: insert file.
</li>
<li>c-j: a new line.
</li>
<li>c-x c-x: put region.
</li>
<li>c-v, m-v: many move.
</li>
<li>c-w: kill marked region.
</li>
<li>c-x 4 f: open file in another window.
</li>
</ol>
</li>
<li>c-x c-b: show buffer list
<ol class="org-ol">
<li>d: set buffer to delete.
</li>
<li>s: set buffer for saving.
</li>
<li>x: perform the set.
</li>
<li>u: remove all the flags.
</li>
<li>f: select the buffer for this window.
</li>
<li>q: quit.
</li>
</ol>
</li>
<li>m-n: repeat n times for the next command.
</li>
<li>m c-v: scroll the other window.
</li>
<li>book mark:
<ol class="org-ol">
<li>c-x r m: set mark
</li>
<li>c-x r b: jump mark
</li>
<li>c-x r l: list all marks
<ul class="org-ul">
<li>subcommands: d/x/r/s/f
</li>
</ul>
</li>
</ol>
</li>
<li>Dir: c-x d
<ol class="org-ol">
<li>C: copy
</li>
<li>d: delete
</li>
<li>D: delete immediately
</li>
<li>x: perform delete
</li>
<li>f: open
</li>
<li>g: fresh
</li>
<li>o or c-o: open new window
</li>
<li>R: rename
</li>
<li>u: remove flag
</li>
<li>v: show file content
</li>
<li>s: switch sort mode
</li>
<li>&lt; or &gt;: prev/next dir
</li>
<li>+: create dir
</li>
<li>c-x c-q: writable mode
</li>
</ol>
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> Commands M-X</h3>
<div class="outline-text-3" id="text-1-3">
<ol class="org-ol">
<li>shrink-window: shrink window
</li>
<li>m-x rename-buffer: rename buffer.
</li>
<li></li>
</ol>
</div>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> Install theme:</h3>
<div class="outline-text-3" id="text-1-4">
<ul class="org-ul">
<li>Download the color-theme.el from <a href="http://download.savannah.gnu.org/releases/color-theme/">Here</a>.
</li>
<li>Unzip it, put the el and theme file to your load path.
</li>
<li>add this code to the .emacs

<div class="org-src-container">

<pre class="src src-lisp">(require 'color-theme)
(color-theme-initialize)
;; the default theme you want to use
(color-theme-xemacs)
</pre>
</div>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Plugins and ~/.emacs</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> orgmode</h3>
<div class="outline-text-3" id="text-2-1">
</div><div id="outline-container-sec-2-1-1" class="outline-4">
<h4 id="sec-2-1-1"><span class="section-number-4">2.1.1</span> Short Keys</h4>
<div class="outline-text-4" id="text-2-1-1">
<ol class="org-ol">
<li>转成 html 保留下划线(默认会转成 下标): #+OPTIONS: ^:nil
</li>
<li>M-S-UP/DOWN: move the title
</li>
<li>Add link: [[link]\[desc\]]
</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> magit</h3>
<div class="outline-text-3" id="text-2-2">
</div><div id="outline-container-sec-2-2-1" class="outline-4">
<h4 id="sec-2-2-1"><span class="section-number-4">2.2.1</span> Install magit: The emacs git mode</h4>
<div class="outline-text-4" id="text-2-2-1">
<ol class="org-ol">
<li>add these code to "~/.emacs":

<div class="org-src-container">

<pre class="src src-lisp">   (require 'package) ;; You might already have this line
(add-to-list 'package-archives
	     '("melpa" . "http://melpa.org/packages/") t)
</pre>
</div>
</li>

<li>run "package-refresh-content"
</li>
<li>run "package-install RET magit RET"
</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> Use ERC to do IRC talk</h3>
<div class="outline-text-3" id="text-2-3">
<p>
open ERC: M-X: erc; Then it will give you some promptions to logging 
irc.freenode.net with nickname and passwords.
</p>
<ol class="org-ol">
<li>register the nickname: /msg NickServ REGISTER password youremail@example.com.
Then you will receive a confirm email.
</li>
<li>join some group: /join Name. e.g /join #emacs
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4"><span class="section-number-3">2.4</span> Gnus</h3>
<div class="outline-text-3" id="text-2-4">
<ol class="org-ol">
<li>B DEL: delete mail.
</li>
<li>g: sync with web operation.
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5"><span class="section-number-3">2.5</span> Enable markdown mode</h3>
<div class="outline-text-3" id="text-2-5">
<ol class="org-ol">
<li>Download markdown-mode.el from [here](<a href="http://jblevins.org/projects/markdown-mode/markdown-mode.el">http://jblevins.org/projects/markdown-mode/markdown-mode.el</a>)
</li>
<li>(autoload 'markdown-mode "markdown-mode"
        "Major mode for editing Markdown files" t)
(add-to-list 'auto-mode-alist '("\\.text\\'" . markdown-mode))
(add-to-list 'auto-mode-alist '("\\.markdown\\'" . markdown-mode))
(add-to-list 'auto-mode-alist '("\\.md\\'" . markdown-mode))
</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Elisp</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> Read documents</h3>
<div class="outline-text-3" id="text-3-1">
<p>
c-h i m Elisp ret
</p>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> 在emacs中写elisp代码片段</h3>
<div class="outline-text-3" id="text-3-2">
<ol class="org-ol">
<li>进入到 <b>scratch</b> buffer, 写代码, 在结尾处按 <b>C-j</b> 看结果.
</li>
<li>或者在eshell里写.
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> Buffer相关函数</h3>
<div class="outline-text-3" id="text-3-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">bufferp</td>
<td class="left">检查参数是否为buffer类型</td>
</tr>

<tr>
<td class="left">current-buffer</td>
<td class="left">获得当前buffer</td>
</tr>

<tr>
<td class="left">set-buffer</td>
<td class="left">设置当前buffer</td>
</tr>

<tr>
<td class="left">buffer-name</td>
<td class="left">获得buffername</td>
</tr>

<tr>
<td class="left">rename-buffer</td>
<td class="left">重命名buffer</td>
</tr>

<tr>
<td class="left">get-buffer</td>
<td class="left">获取buffer</td>
</tr>

<tr>
<td class="left">buffer-file-name</td>
<td class="left">获取对应文件名</td>
</tr>

<tr>
<td class="left">buffer-file-number</td>
<td class="left">获取文件/目录描述符</td>
</tr>

<tr>
<td class="left">get-file-buffer</td>
<td class="left">获取文件对应buf</td>
</tr>

<tr>
<td class="left">buffer-modified-p</td>
<td class="left">检查buffer是否修改</td>
</tr>

<tr>
<td class="left">buffer-modified-tick</td>
<td class="left">buf被修改的次数</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Orgmode</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> short keys</h3>
<div class="outline-text-3" id="text-4-1">
<ol class="org-ol">
<li>c-c a a: check calendar
</li>
<li>c-c c-x c-i: start timing; 
c-c c-x c-o: end timing.
</li>
<li>calendar:
c-c .: set time.
</li>
<li>c-c c-s: schedule
c-c c-d; end schedule
</li>
</ol>
</div>
</div>
</div>
