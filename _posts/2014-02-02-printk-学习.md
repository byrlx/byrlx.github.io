---
layout: default
title: printk 学习
---

{{page.title}}
=====================

#### 概述

printk是linux kernel层的输出函数，相当与printf函数。用法：printk(LEVEL "msg"),
一般LEVEL和msg之间有一个空格。用printk输出的log可以通过“cat /proc/kmsg”或
“dmesg”命令查看。

	[    1.151187] ACPI: PCI Interrupt Link [LNKF] (IRQs 1 3 4 5 6 7 11 12 14 15) *10
	[    1.151240] ACPI: PCI Interrupt Link [LNKG] (IRQs 1 3 4 5 6 7 *10 12 14 15)
	[    1.151294] ACPI: PCI Interrupt Link [LNKH] (IRQs 1 3 4 5 6 7 11 12 14 15) *10
	[    1.151390] vgaarb: device added: PCI:0000:01:00.0,decodes=io+mem,owns=io+mem,locks=none
	[    1.151390] vgaarb: loaded
	[    1.151390] vgaarb: bridge control possible 0000:01:00.0
	[    1.151390] SCSI subsystem initialized
	[    1.151390] ACPI: bus type scsi registered

printk的LEVEL目前有8个（0～7），level的定义如下。其中KERN_EMERG最为严重，KERN_DEBUG级别最低。

	#define KERN_SOH    "\001"      /* ASCII Start Of Header */
	#define KERN_SOH_ASCII  '\001'
	
	#define KERN_EMERG  KERN_SOH "0"    /* system is unusable */
	#define KERN_ALERT  KERN_SOH "1"    /* action must be taken immediately */
	#define KERN_CRIT   KERN_SOH "2"    /* critical conditions */
	#define KERN_ERR    KERN_SOH "3"    /* error conditions */
	#define KERN_WARNING    KERN_SOH "4"    /* warning conditions */
	#define KERN_NOTICE KERN_SOH "5"    /* normal but significant condition */
	#define KERN_INFO   KERN_SOH "6"    /* informational */
	#define KERN_DEBUG  KERN_SOH "7"    /* debug-level messages */
	
	#define KERN_DEFAULT    KERN_SOH "d"    /* the default kernel loglevel */




