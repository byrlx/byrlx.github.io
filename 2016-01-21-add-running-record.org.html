<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.43 in css mode. -->
<html>
  <head>
    <title>2016-01-21-add-running-record.org</title>
    <style type="text/css">
    <!--
      body {
        color: #DCDCCC;
        background-color: #3F3F3F;
      }
      .org-block {
        /* org-block */
        color: #009acd;
      }
      .org-block-begin-line {
        /* org-block-begin-line */
        color: #7F9F7F;
      }
      .org-block-end-line {
        /* org-block-end-line */
        color: #7F9F7F;
      }
      .org-document-info {
        /* org-document-info */
        color: #afeeee;
      }
      .org-document-info-keyword {
        /* org-document-info-keyword */
        color: #b3b3b3;
      }
      .org-level-1 {
        /* org-level-1 */
        color: #DFAF8F;
        font-size: 130%;
        text-decoration: overline;
      }
      .org-level-2 {
        /* org-level-2 */
        color: #BFEBBF;
        font-size: 120%;
      }
      .org-level-3 {
        /* org-level-3 */
        color: #7CB8BB;
      }
      .org-link {
        /* org-link */
        color: #D0BF8F;
        text-decoration: underline;
      }
      .org-meta-line {
        /* org-meta-line */
        color: #7F9F7F;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="org-meta-line">#+OPTIONS: num:nil</span>
<span class="org-meta-line">#+OPTIONS: ^:nil</span>
<span class="org-meta-line">#+OPTIONS: H:nil</span>
<span class="org-meta-line">#+OPTIONS: toc:nil</span>
<span class="org-document-info-keyword">#+AUTHOR:</span> <span class="org-document-info">Zhengchao Xu
</span><span class="org-document-info-keyword">#+EMAIL:</span> <span class="org-document-info">xuzhengchaojob@gmail.com
</span>
<span class="org-block-begin-line">#+BEGIN_HTML
</span><span class="org-block">---
layout: post
title: &#33258;&#21160;&#28155;&#21152;&#36305;&#27493;&#35760;&#24405;
categories: [Lisp]
tags: [elisp]
---
</span><span class="org-block-end-line">#+END_HTML
</span>
&#27491;&#22312;&#24930;&#24930;&#22521;&#20859;<span class="org-link"><a href="http://xuzhengchao.com/Running-Record.html">&#36305;&#27493;</a><a href="http://xuzhengchao.com/Running-Record.html][&#36305;&#27493;]]&#30340;&#20064;&#24815;">&#30340;&#20064;&#24815;</a></span>, &#27599;&#27425;&#36305;&#23436;&#20043;&#21518;&#37117;&#20250;&#35760;&#24405;&#21040;&#19968;&#20010;org&#25991;&#20214;&#20013;. 
&#29992;org table&#36827;&#34892;&#31649;&#29702;. 

&#20026;&#20102;&#30465;&#30053;&#25171;&#24320;&#25991;&#20214;&#22635;&#20837;&#25968;&#25454;&#30340;&#40635;&#28902;, &#20889;&#20102;&#19968;&#20010;lisp&#21629;&#20196;&#33258;&#21160;&#28155;&#21152;, &#39034;&#20415;
&#29087;&#24713;&#19968;&#19979;elisp<span class="org-link"><a href="http://xuzhengchao.com/lisp/elisp-%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0.html">&#25991;&#26412;&#25805;&#20316;</a><a href="http://xuzhengchao.com/lisp/elisp-%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0.html][&#25991;&#26412;&#25805;&#20316;]]&#30456;&#20851;&#30340;&#20989;&#25968;">&#30456;&#20851;&#30340;&#20989;&#25968;</a></span>.

<span class="org-level-1">* &#21629;&#20196;&#23454;&#29616;</span>
<span class="org-level-2">** &#26680;&#24515;&#20989;&#25968;</span>
   &#19979;&#38754;&#26159;&#33258;&#21160;&#22635;&#20805;&#21629;&#20196;&#30340;&#26680;&#24515;&#20989;&#25968;&#20195;&#30721;, &#35813;&#20989;&#25968;&#25509;&#21463;&#19977;&#20010;&#21442;&#25968;: &#26085;&#26399;, &#36305;&#27493;km&#25968;,
&#36305;&#27493;&#22320;&#28857;. &#35813;&#20989;&#25968;&#30340;&#20027;&#35201;&#27493;&#39588;:
+ &#23450;&#20041;&#23616;&#37096;&#21464;&#37327;record-file, &#23384;&#25918;&#36305;&#27493;&#35760;&#24405;&#25991;&#20214;&#30340;&#20301;&#32622;.
+ &#35843;&#29992;(find-file)&#23558;&#35813;&#25991;&#20214;&#21152;&#36733;&#21040;buffer&#20013;
+ &#36890;&#36807;(with-current-buffer)&#26469;&#23558;&#35813;buffer&#20316;&#20026;&#24403;&#21069;buffer,&#22312;&#37324;&#38754;&#36827;&#34892;&#21508;&#31181;&#21160;&#20316;:
  - &#35843;&#29992;(search-forward)&#20989;&#25968;&#23450;&#20301;&#21040;&#20170;&#24180;&#30340;&#35760;&#24405;&#22788;.
  - &#21521;&#21069;&#31227;&#21160;&#19977;&#34892;, &#36234;&#36807;&#34920;&#22836;&#21644;&#20998;&#21106;&#34892;
  - &#36890;&#36807;org table&#30340;&#30456;&#20851;&#20989;&#25968;&#21019;&#24314;&#26032;&#34892;, &#24182;&#23558;&#21442;&#25968;&#22635;&#20805;&#21040;&#30456;&#20851;&#30340;&#21015;.
  - &#20445;&#23384;, &#20851;&#38381;buffer.
+ &#21457;&#24067;blog
+ &#36890;&#36807;&#25191;&#34892;shell&#21629;&#20196;&#19978;&#20256;&#21040;github

<span class="org-block-begin-line">#+BEGIN_EXAMPLE
</span><span class="org-block">(defun lx-add-running-record (day km loc)
  (let  ((record-file (concat LXBLOGORG "Other/2015-01-19-Running-Record.org")))
    (find-file record-file)
    (with-current-buffer "2015-01-19-Running-Record.org"
      (search-forward (format-time-string "%Y"))
      (forward-line 3)
      (org-table-insert-row)
      (insert day)
      (org-table-next-field)
      (insert (message "%.1f" (string-to-number km)))
      (org-table-next-field)
      (insert loc)
      (org-table-align)
      (save-buffer)
      (kill-this-buffer)))
  (org-publish "github-blog")
  (shell-command (concat "cd " LXBLOG " &amp;&amp; git add -u &amp;&amp; git ci -m 'update running record' &amp;&amp; git push")))
</span><span class="org-block-end-line">#+END_EXAMPLE
</span>
<span class="org-level-2">** &#21629;&#20196;</span>
&#22522;&#20110;<span class="org-link"><a href="&#26680;&#24515;&#20989;&#25968;">&#26680;&#24515;&#20989;&#25968;</a></span>&#20889;&#20102;&#20004;&#20010;emacs&#20132;&#20114;&#21629;&#20196;&#26469;&#35753;&#36755;&#20837;&#36305;&#27493;&#35760;&#24405;.
<span class="org-level-3">*** (lx-add-running day km loc)</span>
&#35813;&#20989;&#25968;&#20250;&#25552;&#31034;&#29992;&#25143;&#36755;&#20837;&#36305;&#27493;&#30340;&#26085;&#26399;,&#36317;&#31163;&#21644;&#22320;&#28857;.&#28982;&#21518;&#35843;&#29992;(lx-add-running-record)
<span class="org-block-begin-line">#+BEGIN_EXAMPLE
</span><span class="org-block">(defun lx-add-running (day km loc)
  (interactive "sInput day: \nsInput distance: \nsInput location: ")
  (lx-add-running-record  day km loc))
</span><span class="org-block-end-line">#+END_EXAMPLE
</span><span class="org-level-3">*** (lx-add-running-today km loc)</span>
&#35813;&#20989;&#25968;&#25509;&#21463;&#36317;&#31163;&#21644;&#22320;&#28857;&#20004;&#20010;&#21442;&#25968;, &#24182;&#36890;&#36807;elisp&#30340; (format-time-string)&#33258;&#21160;
&#29983;&#25104;&#20170;&#22825;&#30340;&#26085;&#26399;.
<span class="org-block-begin-line">#+BEGIN_EXAMPLE
</span><span class="org-block">(defun lx-add-running-today (km loc)
  (interactive "sInput distance: \nsInput location: ")
  (lx-add-running-record (format-time-string "%m.%d") km loc))
</span><span class="org-block-end-line">#+END_EXAMPLE
</span>
&#23384;&#25918;&#36305;&#27493;&#35760;&#24405;&#30340;org&#25991;&#20214;&#22914;&#19979;, &#36824;&#19981;&#38169;, &#21487;&#20197;&#36890;&#36807;<span class="org-link"><a href="http://xuzhengchao.com/orgmode/orgmode-table.html">&#36825;&#31687;&#25991;&#31456;</a></span> &#26469;&#20102;&#35299;org mode&#30340;&#34920;&#26684;&#30340;&#26356;&#22810;&#30693;&#35782;.
<span class="org-link"><a href="file:../../../../public/img/running.png">file:../../../../public/img/running.png</a></span>
</pre>
  </body>
</html>
