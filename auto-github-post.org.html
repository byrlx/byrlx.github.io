<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.43 in css mode. -->
<html>
  <head>
    <title>auto-github-post.org</title>
    <style type="text/css">
    <!--
      body {
        color: #DCDCCC;
        background-color: #3F3F3F;
      }
      .org-block {
        /* org-block */
        color: #009acd;
      }
      .org-block-begin-line {
        /* org-block-begin-line */
        color: #7F9F7F;
      }
      .org-block-end-line {
        /* org-block-end-line */
        color: #7F9F7F;
      }
      .org-document-info {
        /* org-document-info */
        color: #afeeee;
      }
      .org-document-info-keyword {
        /* org-document-info-keyword */
        color: #b3b3b3;
      }
      .org-document-title {
        /* org-document-title */
        color: #afeeee;
        font-weight: bold;
      }
      .org-meta-line {
        /* org-meta-line */
        color: #7F9F7F;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="org-meta-line">#+OPTIONS: ^:nil</span>
<span class="org-meta-line">#+OPTIONS: toc:t H:2</span>
<span class="org-document-info-keyword">#+AUTHOR:</span> <span class="org-document-info">Zhengchao Xu
</span><span class="org-document-info-keyword">#+EMAIL:</span> <span class="org-document-info">xuzhengchaojob@gmail.com
</span><span class="org-document-info-keyword">#+TITLE:</span> <span class="org-document-title">&#33258;&#21160;&#29983;&#25104;github&#25991;&#31456;&#21517;
</span>
&#29992;github&#20889;&#25991;&#31456;&#26377;&#19968;&#20010;&#27604;&#36739;&#40635;&#28902;&#30340;&#20107;,&#23601;&#26159;&#25991;&#31456;&#21517;&#31216;&#24517;&#39035;&#26159;'Year-Month-Day-title.md'&#30340;&#26684;&#24335;,&#35273;&#24471;&#26377;&#20123;&#40635;&#28902;,&#23588;&#20854;&#26159;&#24536;&#35760;&#26085;&#26399;&#30340;&#24773;&#20917;&#19979;.(&#25105;&#24819;&#19981;&#26159;&#25105;&#19968;&#20010;&#20154;&#24120;&#24120;&#24536;&#35760;&#20170;&#22825;&#20960;&#21495;&#21543;)

&#25152;&#20197;&#23601;&#24819;&#20889;&#19968;&#20010;&#31243;&#24207;,&#33021;&#22815;&#33258;&#21160;&#26681;&#25454;title&#21517;&#21019;&#24314;&#25991;&#20214;&#21517;,&#24182;&#21152;&#20837;&#26631;&#20934;&#30340;markdown&#24320;&#22836;&#35821;&#27861;&#20869;&#23481;,&#21516;&#26102;&#36824;&#33021;&#22312;&#32534;&#36753;&#23436;&#25104;&#21518;&#33258;&#21160;&#19978;&#20256;&#21040;github&#20013;.

&#20195;&#30721;&#22914;&#19979;:
<span class="org-block-begin-line">#+BEGIN_EXAMPLE
</span><span class="org-block">
        #!/usr/bin/python
        
        import time
        import sys
        import os
        import re
        
        # mardown &#35821;&#27861;,&#20889;&#22312;&#27599;&#31687;&#25991;&#31456;&#30340;&#24320;&#22987;,&#20854;&#20013;LX&#20250;&#34987;&#26367;&#25442;&#20026;title&#21517;
        raw_format= \
        '''---
        layout: default
        title: LX
        ---
        
        \{\{page.title\}\}
        -----------
        '''
        
        # &#20445;&#30041;&#24403;&#21069;&#24037;&#20316;&#30446;&#24405;,&#24182;&#19988;&#25442;&#21040;&#25991;&#31456;&#30446;&#24405;
        oldpath = os.getcwd()
        post_dir = "/home/byrlx/lx-git/byrlx.github.io/_posts/"
        os.chdir(post_dir)
        
        # &#33719;&#21462;&#26684;&#24335;&#21270;&#26085;&#26399;
        prefix = time.strftime('%Y-%m-%d-')
        suffix = ".md"
        
        if(len(sys.argv) != 2):
                print "Usage %s post_name" % sys.argv[0]
                exit(-1)
        
        
        file = prefix + sys.argv[1]
        title = sys.argv[1]
        last_three_chr = title[-3:]
        #&#21028;&#26029;&#26377;&#27809;&#26377;&#21518;&#32512;&#21517;,&#27809;&#26377;&#21017;&#21152;&#19978;,&#26377;&#21017;&#23558;&#20854;&#20174;title&#20013;&#21435;&#25481;
        if last_three_chr != suffix:
                file = file+suffix
        else:
                title = title[0:-3]
        
        #&#23558;markdown&#35821;&#27861;&#20013;&#30340;&#23383;&#31526;&#20018;&#26367;&#25442;&#20026; title &#21517;
        file_format = re.sub('LX',title,raw_format)
        
        #&#22914;&#26524;&#25991;&#20214;&#19981;&#23384;&#22312;,&#21019;&#24314;&#25991;&#20214;&#24182;&#20889;&#20837;&#24320;&#22987;&#20869;&#23481;
        if not os.path.isfile(file):
                lxfile = open(file,"w");
                lxfile.write(file_format)
                lxfile.close()
        
        #&#25171;&#24320;&#25991;&#20214;,&#32534;&#36753;,&#32534;&#36753;&#32467;&#26463;&#21518;&#35843;&#29992;git&#21629;&#20196;&#19978;&#20256;
        cmd = "emacs -nw " + file
        os.system(cmd)
        os.system("git add -A")
        os.system("git commit -m \"modify post\"")
        os.system("git push")
        
        os.chdir(oldpath)

</span><span class="org-block-end-line">#+END_EXAMPLE
</span></pre>
  </body>
</html>
